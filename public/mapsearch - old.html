<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- favicons-->

<head>
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <!-- favicons-->
    <!-- modal stuff-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <!-- mapping styles-->
    <link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.1/mapbox.css' rel='stylesheet'>
    <script src="http://openlayers.org/en/v3.0.0/build/ol.js" type="text/javascript"></script>
    <script src='https://api.mapbox.com/mapbox.js/v2.2.3/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v2.2.3/mapbox.css' rel='stylesheet' />
    <script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.1/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/L.Control.Locate.mapbox.css' rel='stylesheet' />
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/css/font-awesome.min.css' rel='stylesheet' />
    <!-- mapping styles-->
    <!-- WEBSPAGE STYLE SHEETS -->
    <link rel="stylesheet" href="stylesheets/style.css" type="text/css" media="screen">
    <link rel="stylesheet" href="stylesheets/style1.css" type="text/css" media="screen">
    <!-- WEBSPAGE STYLE SHEETS -->
    <!-- WEB FONTS -->
    <link href='https://fonts.googleapis.com/css?family=Advent+Pro' rel='stylesheet' type='text/css'>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- WEB FONTS -->
    <meta charset="UTF-8">
    <title>coffee | coffee | me</title>
</head>

<body>

    <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/L.Control.Locate.min.js'></script>
    <div class="searchmenu"><div class="headerlink">
        


<script>
function myNavFunc(){
    // If it's an iPhone..
    if( (navigator.platform.indexOf("iPhone") != -1) 
        || (navigator.platform.indexOf("iPod") != -1)
        || (navigator.platform.indexOf("iPad") != -1))
         window.open("maps://maps.google.com/maps?daddr=53.3399024,-6.2420058&amp;l7=");
    else
         window.open("http://maps.google.com/maps?daddr=53.3399024,-6.2420058&amp;l7=");
}
</script>       

 <a style="cursor: pointer;" onclick="myNavFunc()"><img class="logo" src="images/logosimple.png" alt="simple logo">
        </a>
    </div>

    <label for="show-menu" class="show-menu">coffee | coffee</label>
    <input type="checkbox" id="show-menu" role="button">
    <ul id="menu">
        <li><a href="#"><i class="fa fa-refresh fa-1x"></i></a>
        </li>
        <li><a href="#">by Shops</a>
            <ul class="hidden">
                <li><a href="sql statement here returning all shops on map">All Shops</a></li>
                <li><a href="sql statement showing closest shop on map">Closest</a></li>
                <li><a href="sql statement showing closest shop on map WHERE wifi = true">Wifi</a></li>
                <li><a href="sql statement showing closest shop on map WHERE seating = true">Seating</a></li>
            </ul>
        </li>
        <li>
            <a href="#">by Coffee</a>
            <ul class="hidden">
                <li><a href="sql statement showing all shops on map WHERE coffee = 3fe">3fe</a></li>
                <li><a href="sql statement showing all shops on map WHERE coffee = roasted\ brown">Roasted Brown</a></li>
                <li><a href="sql statement showing all shops on map WHERE coffee = cloud\ picker">Cloud Picker</a></li>
                <li><a href="sql statement showing all shops on map WHERE coffee = full\ circle">Full Circle</a></li>
            </ul>
        </li>
        <li><a href="#">by Food</a>
            <ul class="hidden">
                <li><a href="sql statement showing all shops on map WHERE breakfast = true">Breakfast</a></li>
                <li><a href="sql statement showing all shops on map WHERE pastry = true">Pastry</a></li>
                <li><a href="sql statement showing all shops on map WHERE lunch = true">Lunch</a></li>
                <li><a href="sql statement showing all shops on map WHERE hot food = true">Hot Food</a></li>
            </ul>
        </li>
    </ul></div>
    <div id="map" class="map"></div>
    <script>
    L.mapbox.accessToken = 'pk.eyJ1IjoieWFycnVtayIsImEiOiJVNVVkT2JvIn0.xja5Bz1L0dmNYUfNG3mlBw';
    var map = L.mapbox.map('map', 'yarrumk.jg24a6oj')
        .setView([53.3528823, -6.2349633], 12);//this sets the initial view
    L.control.locate().addTo(map);//this adds the location icon and function to the map
    map.featureLayer.on('click', function(e) {//this centres the map when a marker is clicked
        map.panTo(e.layer.getLatLng());
    });


    var myLayer = L.mapbox.featureLayer().addTo(map);
    var popup = L.popup()
        .setLatLng([53.399024, -6.240058])
        .setContent('name')
        .openOn(map);

        var popup = L.popup();

    function onMapClick(e) {
        popup
            .setLatLng(e.latlng)
            .setContent("You clicked the map at " + e.latlng.toString())
            .openOn(map);
    }

map.on('click', onMapClick);

    var geoJson = [{
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [-6.2420058, 53.3399024]
            },
            "properties": {
                "title": "<a href='http://www.3fe.ie' target='_blank'><img src='http://cdn2.independent.ie/incoming/article30437135.ece/e4a16/ALTERNATES/h342/3fe.jpg' width='100' height='75'><br>3fe Coffee</a><br>32/34 Lwr Grand Canal Street<br>Dublin 2<br><a href='http://dev.coffeecoffee.me/shop%20details%20text1.html' target='_blank'>...more</a>",
                "icon": {
                    "iconUrl": "images/3femarker.png",
                    "iconSize": [35, 50],
                    "iconAnchor": [17, 50],
                    "popupAnchor": [0, -5],
                    "className": "dot"
                }
            }
        },

        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [-6.254042, 53.3419562]
            },
            "properties": {
                "title": "<a href='http://www.coffeeangel' target='_blank'><img src='http://s3-media4.fl.yelpcdn.com/bphoto/UK8cMwtnYpU0l9U0hMlnVg/348s.jpg' width='100' height='75'><br>Coffeeangel Trinity</a><br>15 Leinster Street Sth<br>Dublin 2<br>",
                "icon": {
                    "iconUrl": "images/icons/coffeeangelmarker.png",
                    "iconSize": [35, 50],
                    "iconAnchor": [17, 50],
                    "popupAnchor": [0, -5],
                    "className": "dot"
                }
            }
        },

        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [-6.268429, 53.3471011]
            },
            "properties": {
                "title": "<a href='http://www.brotherhubbard.ie' target='_blank'><img src='http://darkroom.sundayworld.com/800/0/7e62fbfebde2cdf9ea5653071a088103:9fd552ad9d6c98f8fd090fab78d6d629/brother-hubbard-a-top-class-cafe' width='100' height='75'><br>Brother Hubbard</a><br>153 Capel Street<br>Dublin 1<br>",
                "icon": {
                    "iconUrl": "images/brotherhubbardmarker.png",
                    "iconSize": [35, 50],
                    "iconAnchor": [17, 50],
                    "popupAnchor": [0, -5],
                    "className": "dot"
                }
            }
        },

        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [-6.2628473, 53.3415844]
            },
            "properties": {
                "title": "<a href='http://www.clementandpekoe.com' target='_blank'><img src='http://images.ratemyarea.com.s3.amazonaws.com/assets/0297/5313/clement_pekoe_dublin_large.JPG?picture=2975313' width='100' height='75'><br>Clement and Pekoe</a><br>50 South William Street<br>Dublin 2<br>",
                "icon": {
                    "iconUrl": "images/clementandpekoemarker.png",
                    "iconSize": [35, 50],
                    "iconAnchor": [17, 50],
                    "popupAnchor": [0, -5],
                    "className": "dot"
                }
            }
        }, {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [-6.285730, 53.353568]
            },
            "properties": {
                "title": "<a href='http://www.fullcircle.ie' target='_blank'><img src='http://www.verocoffee.ie/wp-content/uploads/2015/03/20150319_111753.jpg' width='100' height='75'><br>Full Circle Coffee</a><br>46 Manor Street,<br>Stoneybatter<br>Dublin 7<br>",
                "icon": {
                    "iconUrl": "images/fullcirclemarker.png",
                    "iconSize": [35, 50],
                    "iconAnchor": [17, 50],
                    "popupAnchor": [0, -5],
                    "className": "dot"
                }
            }
        },

        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [-6.26233, 53.34797]
            },
            "properties": {
                "title": "<a href='http://www.vicecoffeeinc.com/' target='_blank'><img src='http://www.brian-coffee-spot.com/wp-content/uploads/wow-slider-plugin/345/images/_bar.jpg' width='100' height='75'><br>Vice Coffee Inc.</a><br>54 Abbey Street Middle<br>Dublin 1<br>",
                "icon": {
                    "iconUrl": "images/vicecoffeemarker.png",
                    "iconSize": [35, 50],
                    "iconAnchor": [17, 50],
                    "popupAnchor": [0, -5],
                    "className": "dot"
                }
            }
        },

        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [-6.230122, 53.328967]
            },
            "properties": {
                "title": "<a href='http://www.basewfp.com/' target='_blank'><img src='http://images.ratemyarea.com.s3.amazonaws.com/assets/0295/2536/base_pizza.JPG?picture=2952536' width='100' height='75'><br>Base Wood Fired Pizza</a><br>180 Merrion road<br>Ballsbridge<br>Dublin 4<br>",
                "icon": {
                    "iconUrl": "images/basewfpmarker.png",
                    "iconSize": [35, 50],
                    "iconAnchor": [17, 50],
                    "popupAnchor": [0, -5],
                    "className": "dot"
                }
            }
        },

        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [-6.282893, 53.310151]
            },
            "properties": {
                "title": "<a href='http://www.basewfp.com/' target='_blank'><img src='http://images.ratemyarea.com.s3.amazonaws.com/assets/0079/2855/photo__7__large.jpg?picture=792855' width='100' height='75'><br>Base Wood Fired Pizza</a><br>92 Terenure Rd E<br>Terenure<br>Dublin 6<br>",
                "icon": {
                    "iconUrl": "images/basewfpmarker.png",
                    "iconSize": [35, 50],
                    "iconAnchor": [17, 50],
                    "popupAnchor": [0, -5],
                    "className": "dot"
                }
            }
        }
    ];

    // Set a custom icon on each marker based on feature properties.
    myLayer.on('layeradd', function(e) {
        var marker = e.layer,
            feature = marker.feature;

        marker.setIcon(L.icon(feature.properties.icon));
    });


    // Add features to the map.
    myLayer.setGeoJSON(geoJson);
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    <script type="text/javascript" src="js/jsstuff.js"></script>
</body>

</html>
