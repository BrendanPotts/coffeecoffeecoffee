<!DOCTYPE html>
<html>

<head>
    <title>coffeecoffeecoffee</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/style.css">
</head>

<body>
<div id="map" class="map"></div>

    <div id="header">
        <span>My coffee map</span>
        <ul id="menu">
            <li>ABOUT</li>
            <li>ARTICLES</li>
            <li>VIDEOS</li>
            <li>SUBSCRIBE</li>
        </ul>
    </div>
    <div id="content">

        <div id="spinner">
            <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="248px" height="351px" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 2480 3507" xmlns:xlink="http://www.w3.org/1999/xlink">
                <rect class="fil0" x="78" y="672" width="2324" height="2163" />
                <polygon class="fil1" points="2013,1739 2277,1891 2277,2632 2075,2748 1636,2494 1108,2799 203,2276 203,1231 1108,709 2013,1231 " />
                <polygon class="fil2" points="1108,1754 229,1246 229,2261 1108,2769 " />
                <polygon class="fil3" points="1987,1754 1987,1246 1108,1754 1108,2769 1636,2464 1460,2363 1460,1652 1636,1551 " />
                <polygon class="fil3" points="2251,1906 2075,2008 2075,2718 2251,2617 " />
                <polygon class="fil3" points="1812,2058 1636,1957 1636,2261 1812,2160 " />
                <polygon class="fil3" points="555,1246 656,1304 1108,1043 1108,927 " />
                <polygon class="fil2" points="1661,1246 1561,1304 1108,1043 1108,927 " />
                <path class="fil2" d="M1460 1652l0 711 615 355 0 -710 -615 -356zm440 457l-264 -152 0 304 264 153 0 -305z" />
                <path class="fil4" d="M229 1246l879 508 879 -508 -879 -508 -879 508zm879 -319l-553 319 553 320 553 -320 -553 -319z" />
                <polygon class="fil4" points="1636,1551 1460,1652 2075,2008 2251,1906 " />
                <polygon class="fil4" points="1812,2160 1636,2261 1900,2414 1900,2211 " />
                <polygon class="fil3" points="1812,2058 1812,2160 1900,2211 1900,2109 " />
                <polyline class="fil5 str0" points="555,1246 1108,1566 1661,1246 " />
                <line class="fil5 str0" x1="1636" y1="1551" x2="2251" y2="1906" />
                <polyline class="fil5 str0" points="1636,1957 1900,2109 1900,2414 " />
                <line class="fil5 str0" x1="1460" y1="2363" x2="2075" y2="2718" />
                <polyline class="fil5 str1" points="1900,2211 1812,2160 1812,2058 " />
                <path class="fil0 str2" d="M368 1502l120 70 0 121 120 70 0 -121 121 71 0 120 120 70 0 -120 120 70 0 421c0,166 -135,222 -301,126l0 0c-165,-97 -300,-311 -300,-477l0 -421z" />
                <path class="fil5 str2" d="M368 1502l120 70 0 121 120 70 0 -121 121 71 0 120 120 70 0 -120 120 70 0 421c0,166 -135,222 -301,126l0 0c-165,-97 -300,-311 -300,-477l0 -421z" />
                <polygon class="fil3" points="555,1246 882,1435 1108,1304 1108,927 " />
                <polygon class="fil2" points="1661,1246 1334,1435 1108,1304 1108,927 " />
                <polygon class="timer" id="level4" points="656,1304 1108,1043 1561,1304 1108,1566 " />
                <polygon class="timer" id="level3" points="765,1367 1108,1164 1453,1367 1108,1566 " />
                <polygon class="timer" id="level2" points="865,1425 1108,1285 1349,1426 1108,1566 " />
                <polygon class="timer" id="level1" points="970,1486 1108,1406 1246,1486 1108,1566 " />
            </svg>
        </div>
</div>
<script>
L.mapbox.accessToken = 'pk.eyJ1IjoieWFycnVtayIsImEiOiJVNVVkT2JvIn0.xja5Bz1L0dmNYUfNG3mlBw';
var map = L.mapbox.map('map', 'yarrumk.jg24a6oj')
    .setView([53.3528823,-6.2349633],12);

var myLayer = L.mapbox.featureLayer().addTo(map);

var geoJson = 
[

{
    "type": "Feature",
    "geometry": {
        "type": "Point",
        "coordinates": [-6.2195671,53.3509354]
    },
    "properties": {
        "title": "<a href='http://www.squaremile.co.uk' target='_blank'><img src='http://openapp.ie/images/con-hennessey' width='75' height='75'><br>Squaremile Coffee</a><br>1 Coffee Roaster Court<br>Main Street<br>London<br>",
        "icon": {
            "iconUrl": "http://www.dt249.com/map/images/sq_Mile_pin.png" ,
            "iconSize": [35, 50], // size of the icon
            "iconAnchor": [17, 50], // point of the icon which will correspond to marker's location
            "popupAnchor": [0, -5], // point from which the popup should open relative to the iconAnchor
            "className": "dot"
        }
    }
}, 


 {
    "type": "Feature",
    "geometry": {
        "type": "Point",
        "coordinates": [-6.18053, 53.302217]
    },
    "properties": {
        "title": "<a href='www.clodaghmckenna.com/home/restaurants/' target='_blank'><img src='http://images.ratemyarea.com.s3.amazonaws.com/assets/0298/0353/clodaghs_kitchen_blackrock_large.JPG?picture=2980353' width='100' height='75'><br>Clodagh's Kitchen
</a><br>Rock Road<br>Blackrock<br>Co.Dublin<br>",
        "icon": {
            "iconUrl": "http://www.dt249.com/map/images/clodaghskitchenmarker.png",
            "iconSize": [35, 50],
            "iconAnchor": [17, 50],
            "popupAnchor": [0, -5],
            "className": "dot"
        }
    }
}    

];

// Set a custom icon on each marker based on feature properties.
myLayer.on('layeradd', function(e) {
    var marker = e.layer,
        feature = marker.feature;

    marker.setIcon(L.icon(feature.properties.icon));
});

// Add features to the map.
myLayer.setGeoJSON(geoJson);
</script>



</body>

</html>
